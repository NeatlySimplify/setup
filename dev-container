FROM ubuntu:latest

ENV DEBIAN_FRONTEND=noninteractive
ENV USER=dev
ENV HOME=/home/dev
ENV HOMEBREW_PREFIX=/home/dev/.linuxbrew
ENV PATH="$HOME/.cargo/bin:$HOME/.local/bin:$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin:$HOME/.npm-global/bin:$PATH"

# Install

RUN apt-get update && \
    apt-get install -y \
    curl git sudo wget nano vim build-essential pkg-config gcc g++ software-properties-common \
    libssl-dev zlib1g-dev libncurses5-dev libreadline-dev libsqlite3-dev \
    libffi-dev liblzma-dev \
    python3 python3-venv python3-pip python3-wheel \
    lua5.4

# Criar usuÃ¡rio dev
RUN useradd -m -s /bin/bash dev && \
    echo 'dev ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers && \
    chown -R dev:dev /home/dev

USER dev
WORKDIR /home/dev

CMD ["/bin/bash"]

